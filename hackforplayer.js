!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(9),i=n(14),o=n(11),s=n(15),a=n(8);n(42),n(41);var u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.urls,u=void 0===e?{}:e,c=t.models,f=void 0===c?{}:c,h=n(13),l=document.querySelectorAll(h.container),p=Array.prototype.slice.call(l).map(function(t){var e=new r;e.urls=Object.assign({},e.urls,u);var n=new a({container:t,selectors:h,template:s.content,partial:s});n.classNames=h.htmlClass;var c=function(t){var n=t.target.files[0],r=new FileReader;r.onload=function(r){var i=r.target.result,o=[{name:n.name,filename:n.name,code:i}];e.restart("screen",{files:o}),e.restart("editor",{files:o}),t.target.value=""},r.readAsText(n)};n.menuButtons=[o({label:"HACK",onClick:function(){return e.toggle("editor")}}),o({label:"RELOAD",onClick:function(){return e.restart("screen")}}),o({label:"OPEN",input:{type:"file",accept:"text/javascript"},onChange:c})];var l=i(n);n.addEventListener("screen.resize",l),e.on("screen.resize",l),e.on("screen.load",function(t){var n=t.child,r=n.frame;e.show("screen");var i=function(t){var n=t.width,i=t.height;return e.emit("screen.resize",{frame:r,width:n,height:i})};n.get("size").then(i),n.on("resize",i)}),e.on("editor.run",function(t,n){t.child;e.restart("screen",{files:n})});var p=function(t,n){var r=(t.child,n.edge),i=r.x,o=r.y;switch(n.align){case"top":e.setRect("editor",0,0,"100vw",o);break;case"right":e.setRect("editor",i,0,innerWidth-i,"100vh");break;case"left":e.setRect("editor",0,0,i,"100vh");break;case"bottom":e.setRect("editor",0,o,"100vw",innerHeight-o)}};e.on("editor.resize",p),e.on("editor.load",function(t){var n=t.child;n.on("run",function(t){return e.emit("editor.run",{child:n},t)}),n.on("render",function(t){return e.emit("editor.resize",{child:n},t)});var r=function(){return n.get("view").then(function(t){return p({child:n},t)})};r(),addEventListener("resize",r),e.once("editor.beforeunload",function(){return removeEventListener("resize",task)})});var d=[].slice.call(document.querySelectorAll(t.getAttribute("data-target"))),v=t.getAttribute("data-main"),y=function(t){t=t.replace(/^\n*/g,"");var e=/^\s*/.exec(t)[0];return e&&(t=t.split("\n").map(function(t){return t.indexOf(e)?t:t.substr(e.length)}).join("\n")),t};return Promise.all(d.map(function(t){var e=t.getAttribute("alias"),n=e+".js",r=v===e,i=t.getAttribute("src");return i?fetch(i).then(function(t){return t.text()}).then(function(t){return{alias:e,filename:n,isEntryPoint:r,code:t}}):Promise.resolve({alias:e,filename:n,isEntryPoint:r,code:y(t.textContent)})})).then(function(t){var n={align:"right",edge:{x:innerWidth/2,y:innerHeight/2}};e.start("screen",Object.assign({},{files:t},f.screen)),e.start("editor",Object.assign({},{files:t},n,f.editor))}),e});return p},c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise(function(t,n){"complete"===document.readyState?t(u.apply(void 0,e)):addEventListener("load",function(){return t(u.apply(void 0,e))})})};c.Player=r,c.trigger=n(3)("h4p").trigger,window.h4p=c},function(t,e){"use strict";var n=e.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(t){return"[["+t+"_"+Math.random().toFixed(8).slice(2)+"]]"};e.LISTENERS=n("listeners"),e.CAPTURE=1,e.BUBBLE=2,e.ATTRIBUTE=3,e.newNode=function(t,e){return{listener:t,kind:e,next:null}}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:A(t)}function n(t){return s(t)?t:T(t)}function r(t){return a(t)?t:L(t)}function i(t){return o(t)&&!u(t)?t:D(t)}function o(t){return!(!t||!t[cn])}function s(t){return!(!t||!t[fn])}function a(t){return!(!t||!t[hn])}function u(t){return s(t)||a(t)}function c(t){return!(!t||!t[ln])}function f(t){return t.value=!1,t}function h(t){t&&(t.value=!0)}function l(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function v(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function y(){return!0}function _(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function m(t,e){return b(t,e,0)}function g(t,e){return b(t,e,e)}function b(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function S(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function x(){return{value:void 0,done:!0}}function E(t){return!!I(t)}function k(t){return t&&"function"==typeof t.next}function z(t){var e=I(t);return e&&e.call(t)}function I(t){var e=t&&(xn&&t[xn]||t[En]);if("function"==typeof e)return e}function O(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?C():o(t)?t.toSeq():N(t)}function T(t){return null===t||void 0===t?C().toKeyedSeq():o(t)?s(t)?t.toSeq():t.fromEntrySeq():U(t)}function L(t){return null===t||void 0===t?C():o(t)?s(t)?t.entrySeq():t.toIndexedSeq():B(t)}function D(t){return(null===t||void 0===t?C():o(t)?s(t)?t.entrySeq():t:B(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function j(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function P(t){this._iterable=t,this.size=t.length||t.size}function q(t){this._iterator=t,this._iteratorCache=[]}function R(t){return!(!t||!t[zn])}function C(){return In||(In=new M([]))}function U(t){var e=Array.isArray(t)?new M(t).fromEntrySeq():k(t)?new q(t).fromEntrySeq():E(t)?new P(t).fromEntrySeq():"object"==typeof t?new j(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function B(t){var e=H(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function N(t){var e=H(t)||"object"==typeof t&&new j(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function H(t){return O(t)?new M(t):k(t)?new q(t):E(t)?new P(t):void 0}function W(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[n?o-s:s];if(e(a[1],r?a[0]:s,t)===!1)return s+1}return s}return t.__iterateUncached(e,n)}function K(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,s=0;return new w(function(){var t=i[n?o-s:s];return s++>o?x():S(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function F(t,e){return e?J(e,t,"",{"":t}):G(t)}function J(t,e,n,r){return Array.isArray(e)?t.call(r,n,L(e).map(function(n,r){return J(t,n,r,e)})):V(e)?t.call(r,n,T(e).map(function(n,r){return J(t,n,r,e)})):e}function G(t){return Array.isArray(t)?L(t).map(G).toList():V(t)?T(t).map(G).toMap():t}function V(t){return t&&(t.constructor===Object||void 0===t.constructor)}function $(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function X(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&$(i[1],t)&&(n||$(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var h=!0,l=e.__iterate(function(e,r){if(n?!t.has(e):i?!$(e,t.get(r,_n)):!$(t.get(r,_n),e))return h=!1,!1});return h&&t.size===l}function Y(t,e){if(!(this instanceof Y))return new Y(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(On)return On;On=this}}function Q(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(Q(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(An)return An;An=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Rn?st(t):at(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return ut(t);if("function"==typeof t.toString)return at(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function st(t){var e=Bn[t];return void 0===e&&(e=at(t),Un===Cn&&(Un=0,Bn={}),Un++,Bn[t]=e),e}function at(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function ut(t){var e;if(jn&&(e=Tn.get(t),void 0!==e))return e;if(e=t[qn],void 0!==e)return e;if(!Mn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[qn],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++Pn,1073741824&Pn&&(Pn=0),jn)Tn.set(t,e);else{if(void 0!==Dn&&Dn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Mn)Object.defineProperty(t,qn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[qn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[qn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Q(t!==1/0,"Cannot perform this action with an infinite size.")}function ht(t){return null===t||void 0===t?St():lt(t)&&!c(t)?t:St().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function lt(t){return!(!t||!t[Nn])}function pt(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function _t(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function mt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&bt(t._root)}function gt(t,e){return S(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var i=Object.create(Hn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function St(){return Wn||(Wn=wt(0))}function xt(t,e,n){var r,i;if(t._root){var o=f(mn),s=f(gn);if(r=Et(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;i=t.size+(o.value?n===_n?-1:1:0)}else{if(n===_n)return t;i=1,r=new pt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(i,r):St()}function Et(t,e,n,r,i,o,s,a){return t?t.update(e,n,r,i,o,s,a):o===_n?t:(h(a),h(s),new _t(e,r,[i,o]))}function kt(t){return t.constructor===_t||t.constructor===yt}function zt(t,e,n,r,i){if(t.keyHash===r)return new yt(e,r,[t.entry,i]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&yn,a=(0===n?r:r>>>n)&yn,u=s===a?[zt(t,e,n+dn,r,i)]:(o=new _t(e,r,i),s<a?[t,o]:[o,t]);return new dt(e,1<<s|1<<a,u)}function It(t,e,n,r){t||(t=new l);for(var i=new _t(t,ot(n),[n,r]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}function Ot(t,e,n,r){for(var i=0,o=0,s=new Array(n),a=0,u=1,c=e.length;a<c;a++,u<<=1){var f=e[a];void 0!==f&&a!==r&&(i|=u,s[o++]=f)}return new dt(t,i,s)}function At(t,e,n,r,i){for(var o=0,s=new Array(vn),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[r]=i,new vt(t,o+1,s)}function Tt(t,e,r){for(var i=[],s=0;s<r.length;s++){var a=r[s],u=n(a);o(a)||(u=u.map(function(t){return F(t)})),i.push(u)}return Mt(t,e,i)}function Lt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):$(t,e)?t:e}function Dt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return $(e,i)?e:i}}function Mt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,_n,function(t){return t===_n?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function jt(t,e,n,r){var i=t===_n,o=e.next();if(o.done){var s=i?n:t,a=r(s);return a===s?t:a}Q(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?_n:t.get(u,_n),f=jt(c,e,n,r);return f===c?t:f===_n?t.remove(u):(i?St():t).set(u,f)}function Pt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function qt(t,e,n,r){var i=r?t:p(t);return i[e]=n,i}function Rt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,a=0;a<i;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}function Ct(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;s<r;s++)s===e&&(o=1),i[s]=t[s+o];return i}function Ut(t){var e=Kt();if(null===t||void 0===t)return e;if(Bt(t))return t;var n=r(t),i=n.size;return 0===i?e:(ft(i),i>0&&i<vn?Wt(0,i,dn,null,new Nt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Bt(t){return!(!t||!t[Gn])}function Nt(t,e){this.array=t,this.ownerID=e}function Ht(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===a?u&&u.array:t&&t.array,i=n>o?0:o-n,c=s-n;return c>vn&&(c=vn),function(){if(i===c)return Xn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var a,u=t&&t.array,c=i>o?0:o-i>>r,f=(s-i>>r)+1;return f>vn&&(f=vn),function(){for(;;){if(a){var t=a();if(t!==Xn)return t;a=null}if(c===f)return Xn;var o=e?--f:c++;a=n(u&&u[o],r-dn,i+(o<<r))}}}var o=t._origin,s=t._capacity,a=Yt(s),u=t._tail;return n(t._root,t._level,0)}function Wt(t,e,n,r,i,o,s){var a=Object.create(Vn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function Kt(){return $n||($n=Wt(0,0,dn))}function Ft(t,e,n){if(e=v(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?$t(t,e).set(0,n):$t(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=f(gn);return e>=Yt(t._capacity)?r=Jt(r,t.__ownerID,0,e,n,o):i=Jt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Wt(t._origin,t._capacity,t._level,i,r):t}function Jt(t,e,n,r,i,o){var s=r>>>n&yn,a=t&&s<t.array.length;if(!a&&void 0===i)return t;var u;if(n>0){var c=t&&t.array[s],f=Jt(c,e,n-dn,r,i,o);return f===c?t:(u=Gt(t,e),u.array[s]=f,u)}return a&&t.array[s]===i?t:(h(o),u=Gt(t,e),void 0===i&&s===u.array.length-1?u.array.pop():u.array[s]=i,u)}function Gt(t,e){return e&&t&&e===t.ownerID?t:new Nt(t?t.array.slice():[],e)}function Vt(t,e){if(e>=Yt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&yn],r-=dn;return n}}function $t(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new l,i=t._origin,o=t._capacity,s=i+e,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return t;if(s>=a)return t.clear();for(var u=t._level,c=t._root,f=0;s+f<0;)c=new Nt(c&&c.array.length?[void 0,c]:[],r),u+=dn,f+=1<<u;f&&(s+=f,i+=f,a+=f,o+=f);for(var h=Yt(o),p=Yt(a);p>=1<<u+dn;)c=new Nt(c&&c.array.length?[c]:[],r),u+=dn;var d=t._tail,v=p<h?Vt(t,a-1):p>h?new Nt([],r):d;if(d&&p>h&&s<o&&d.array.length){c=Gt(c,r);for(var y=c,_=u;_>dn;_-=dn){var m=h>>>_&yn;y=y.array[m]=Gt(y.array[m],r)}y.array[h>>>dn&yn]=d}if(a<o&&(v=v&&v.removeAfter(r,0,a)),s>=p)s-=p,a-=p,u=dn,c=null,v=v&&v.removeBefore(r,0,s);else if(s>i||p<h){for(f=0;c;){var g=s>>>u&yn;if(g!==p>>>u&yn)break;g&&(f+=(1<<u)*g),u-=dn,c=c.array[g]}c&&s>i&&(c=c.removeBefore(r,u,s-f)),c&&p<h&&(c=c.removeAfter(r,u,p-f)),f&&(s-=f,a-=f)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=u,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):Wt(s,a,u,c,v)}function Xt(t,e,n){for(var i=[],s=0,a=0;a<n.length;a++){var u=n[a],c=r(u);c.size>s&&(s=c.size),o(u)||(c=c.map(function(t){return F(t)})),i.push(c)}return s>t.size&&(t=t.setSize(s)),Mt(t,e,i)}function Yt(t){return t<vn?0:t-1>>>dn<<dn}function Qt(t){return null===t||void 0===t?ee():Zt(t)?t:ee().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Zt(t){return lt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Qt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Yn||(Yn=te(St(),Kt()))}function ne(t,e,n){var r,i,o=t._map,s=t._list,a=o.get(e),u=void 0!==a;if(n===_n){if(!u)return t;s.size>=vn&&s.size>=2*o.size?(i=s.filter(function(t,e){return void 0!==t&&a!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(n===s.get(a)[1])return t;r=o,i=s.set(a,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function se(t){this._iter=t,this.size=t.size}function ae(t){var e=Oe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ae,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===Sn){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?bn:wn,n)},e}function ue(t,e,n){var r=Oe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,_n);return o===_n?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,s){return r(e.call(n,t,i,s),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(Sn,i);return new w(function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return S(r,a,e.call(n,s[1],a,t),i)})},r}function ce(t,e){var n=Oe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ae,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function fe(t,e,n,r){var i=Oe(t);return r&&(i.has=function(r){var i=t.get(r,_n);return i!==_n&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,_n);return o!==_n&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return t.__iterate(function(t,o,u){if(e.call(n,t,o,u))return a++,i(t,r?o:a-1,s)},o),a},i.__iteratorUncached=function(i,o){var s=t.__iterator(Sn,o),a=0;return new w(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],f=u[1];if(e.call(n,f,c,t))return S(i,r?c:a++,f,o)}})},i}function he(t,e,n){var r=ht().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function le(t,e,n){var r=s(t),i=(c(t)?Qt():ht()).asMutable();t.__iterate(function(o,s){i.update(e.call(n,o,s,t),function(t){return t=t||[],t.push(r?[s,o]:o),t})});var o=Ie(t);return i.map(function(e){return Ee(t,o(e))})}function pe(t,e,n,r){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=n===1/0?i:0|n),_(e,n,i))return t;var o=m(e,i),s=g(n,i);if(o!==o||s!==s)return pe(t.toSeq().cacheResult(),e,n,r);var a,u=s-o;u===u&&(a=u<0?0:u);var c=Oe(t);return c.size=0===a?a:t.size&&a||void 0,!r&&R(t)&&a>=0&&(c.get=function(e,n){return e=v(this,e),e>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=s++<o))return c++,e(t,r?n:c-1,i)!==!1&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var i=0!==a&&t.__iterator(e,n),s=0,u=0;return new w(function(){for(;s++<o;)i.next();if(++u>a)return x();var t=i.next();return r||e===wn?t:e===bn?S(e,u-1,void 0,t):S(e,u-1,t.value[1],t)})},c}function de(t,e,n){var r=Oe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate(function(t,i,a){return e.call(n,t,i,a)&&++s&&r(t,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(Sn,i),a=!0;return new w(function(){if(!a)return x();var t=s.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===Sn?t:S(r,u,c,t):(a=!1,x())})},r}function ve(t,e,n,r){var i=Oe(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return t.__iterate(function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,s)}),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(Sn,o),u=!0,c=0;return new w(function(){var t,o,f;do{if(t=a.next(),t.done)return r||i===wn?t:i===bn?S(i,c++,void 0,t):S(i,c++,t.value[1],t);var h=t.value;o=h[0],f=h[1],u&&(u=e.call(n,f,o,s))}while(u);return i===Sn?t:S(i,o,f,t)})},i}function ye(t,e){var r=s(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?U(t):B(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var u=i[0];if(u===t||r&&s(u)||a(t)&&a(u))return u}var c=new M(i);return r?c=c.toKeyedSeq():a(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function _e(t,e,n){var r=Oe(t);return r.__iterateUncached=function(r,i){function s(t,c){var f=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?s(t,c+1):r(t,n?i:a++,f)===!1&&(u=!0),!u},i)}var a=0,u=!1;return s(t,0),a},r.__iteratorUncached=function(r,i){var s=t.__iterator(r,i),a=[],u=0;return new w(function(){for(;s;){var t=s.next();if(t.done===!1){var c=t.value;if(r===Sn&&(c=c[1]),e&&!(a.length<e)||!o(c))return n?t:S(r,u++,c,t);a.push(s),s=c.__iterator(r,i)}else s=a.pop()}return x()})},r}function me(t,e,n){var r=Ie(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function ge(t,e){var n=Oe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(wn,r),s=0;return new w(function(){return(!i||s%2)&&(i=o.next(),i.done)?i:s%2?S(n,s++,e):S(n,s++,i.value,i)})},n}function be(t,e,n){e||(e=Te);var r=s(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?T(o):a(t)?L(o):D(o)}function we(t,e,n){if(e||(e=Te),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Se(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Se(e,t,n)?n:t})}function Se(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function xe(t,n,r){var i=Oe(t);return i.size=new M(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),z(i?t.reverse():t)}),s=0,a=!1;return new w(function(){var e;return a||(e=o.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?x():S(t,s++,n.apply(null,e.map(function(t){return t.value})))})},i}function Ee(t,e){return R(t)?e:t.constructor(e)}function ke(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ze(t){return ft(t.size),d(t)}function Ie(t){return s(t)?n:a(t)?r:i}function Oe(t){return Object.create((s(t)?T:a(t)?L:D).prototype)}function Ae(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function Te(t,e){return t>e?1:t<e?-1:0}function Le(t){var n=z(t);if(!n){if(!O(t))throw new TypeError("Expected iterable or array-like: "+t);n=z(e(t))}return n}function De(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(t);Pe(i,s),i.size=s.length,i._name=e,i._keys=s,i._defaultValues=t}this._map=ht(o)},i=r.prototype=Object.create(Qn);return i.constructor=r,r}function Me(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function je(t){return t._name||t.constructor.name||"Record"}function Pe(t,e){try{e.forEach(qe.bind(void 0,t))}catch(n){}}function qe(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Re(t){return null===t||void 0===t?Ne():Ce(t)&&!c(t)?t:Ne().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Ce(t){return!(!t||!t[Zn])}function Ue(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Be(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ne(){return er||(er=Be(St()))}function He(t){return null===t||void 0===t?Fe():We(t)?t:Fe().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function We(t){return Ce(t)&&c(t)}function Ke(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Fe(){return rr||(rr=Ke(ee()))}function Je(t){return null===t||void 0===t?$e():Ge(t)?t:$e().unshiftAll(t)}function Ge(t){return!(!t||!t[ir])}function Ve(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function $e(){return sr||(sr=Ve(0))}function Xe(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Ye(t,e){return e}function Qe(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return p(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=s(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+an(ot(t),ot(e))|0}:function(t,e){r=r+an(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return sn(i,r)}function sn(t,e){return e=Ln(e,3432918353),e=Ln(e<<15|e>>>-15,461845907),e=Ln(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Ln(e^e>>>16,2246822507),e=Ln(e^e>>>13,3266489909),e=it(e^e>>>16)}function an(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var un=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=s,e.isIndexed=a,e.isAssociative=u,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",fn="@@__IMMUTABLE_KEYED__@@",hn="@@__IMMUTABLE_INDEXED__@@",ln="@@__IMMUTABLE_ORDERED__@@",pn="delete",dn=5,vn=1<<dn,yn=vn-1,_n={},mn={value:!1},gn={value:!1},bn=0,wn=1,Sn=2,xn="function"==typeof Symbol&&Symbol.iterator,En="@@iterator",kn=xn||En;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=bn,w.VALUES=wn,w.ENTRIES=Sn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[kn]=function(){return this},t(A,e),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return W(this,t,e,!0)},A.prototype.__iterator=function(t,e){return K(this,t,e,!0)},t(T,A),T.prototype.toKeyedSeq=function(){return this},t(L,A),L.of=function(){return L(arguments)},L.prototype.toIndexedSeq=function(){return this},L.prototype.toString=function(){return this.__toString("Seq [","]")},L.prototype.__iterate=function(t,e){return W(this,t,e,!1)},L.prototype.__iterator=function(t,e){return K(this,t,e,!1)},t(D,A),D.of=function(){return D(arguments)},D.prototype.toSetSeq=function(){return this},A.isSeq=R,A.Keyed=T,A.Set=D,A.Indexed=L;var zn="@@__IMMUTABLE_SEQ__@@";A.prototype[zn]=!0,t(M,L),M.prototype.get=function(t,e){return this.has(t)?this._array[v(this,t)]:e},M.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},M.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?x():S(t,i,n[e?r-i++:i++])})},t(j,T),j.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},j.prototype.has=function(t){return this._object.hasOwnProperty(t)},j.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var s=r[e?i-o:o];if(t(n[s],s,this)===!1)return o+1}return o},j.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var s=r[e?i-o:o];return o++>i?x():S(t,s,n[s])})},j.prototype[ln]=!0,t(P,L),P.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=z(n),i=0;if(k(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},P.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=z(n);if(!k(r))return new w(x);var i=0;return new w(function(){var e=r.next();return e.done?e:S(t,i++,e.value)})},t(q,L),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var s=o.value;if(r[i]=s,t(s,i++,this)===!1)break}return i},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return S(t,i,r[i++])})};var In;t(Y,L),Y.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Y.prototype.get=function(t,e){return this.has(t)?this._value:e},Y.prototype.includes=function(t){return $(this._value,t)},Y.prototype.slice=function(t,e){var n=this.size;return _(t,e,n)?this:new Y(this._value,g(e,n)-m(t,n))},Y.prototype.reverse=function(){return this},Y.prototype.indexOf=function(t){return $(this._value,t)?0:-1},Y.prototype.lastIndexOf=function(t){return $(this._value,t)?this.size:-1},Y.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},Y.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?S(t,r++,n._value):x()})},Y.prototype.equals=function(t){
return t instanceof Y?$(this._value,t._value):X(t)};var On;t(Z,L),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+v(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return _(t,e,this.size)?this:(t=m(t,this.size),e=g(e,this.size),e<=t?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Z.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new w(function(){var s=i;return i+=e?-r:r,o>n?x():S(t,o++,s)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:X(this,t)};var An;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Tn,Ln="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Dn=Object.isExtensible,Mn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),jn="function"==typeof WeakMap;jn&&(Tn=new WeakMap);var Pn=0,qn="__immutablehash__";"function"==typeof Symbol&&(qn=Symbol(qn));var Rn=16,Cn=255,Un=0,Bn={};t(ht,et),ht.of=function(){var t=un.call(arguments,0);return St().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ht.prototype.toString=function(){return this.__toString("Map {","}")},ht.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ht.prototype.set=function(t,e){return xt(this,t,e)},ht.prototype.setIn=function(t,e){return this.updateIn(t,_n,function(){return e})},ht.prototype.remove=function(t){return xt(this,t,_n)},ht.prototype.deleteIn=function(t){return this.updateIn(t,function(){return _n})},ht.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ht.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=jt(this,Le(t),e,n);return r===_n?void 0:r},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):St()},ht.prototype.merge=function(){return Tt(this,void 0,arguments)},ht.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Tt(this,t,e)},ht.prototype.mergeIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ht.prototype.mergeDeep=function(){return Tt(this,Lt,arguments)},ht.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Tt(this,Dt(t),e)},ht.prototype.mergeDeepIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ht.prototype.sort=function(t){return Qt(be(this,t))},ht.prototype.sortBy=function(t,e){return Qt(be(this,e,t))},ht.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ht.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l)},ht.prototype.asImmutable=function(){return this.__ensureOwner()},ht.prototype.wasAltered=function(){return this.__altered},ht.prototype.__iterator=function(t,e){return new mt(this,t,e)},ht.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ht.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ht.isMap=lt;var Nn="@@__IMMUTABLE_MAP__@@",Hn=ht.prototype;Hn[Nn]=!0,Hn[pn]=Hn.remove,Hn.removeIn=Hn.deleteIn,pt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if($(n,i[o][0]))return i[o][1];return r},pt.prototype.update=function(t,e,n,r,i,o,s){for(var a=i===_n,u=this.entries,c=0,f=u.length;c<f&&!$(r,u[c][0]);c++);var l=c<f;if(l?u[c][1]===i:a)return this;if(h(s),(a||!l)&&h(o),!a||1!==u.length){if(!l&&!a&&u.length>=Kn)return It(t,u,r,i);var d=t&&t===this.ownerID,v=d?u:p(u);return l?a?c===f-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new pt(t,v)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&yn),o=this.bitmap;return 0===(o&i)?r:this.nodes[Pt(o&i-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&yn,u=1<<a,c=this.bitmap,f=0!==(c&u);if(!f&&i===_n)return this;var h=Pt(c&u-1),l=this.nodes,p=f?l[h]:void 0,d=Et(p,t,e+dn,n,r,i,o,s);if(d===p)return this;if(!f&&d&&l.length>=Fn)return At(t,l,c,a,d);if(f&&!d&&2===l.length&&kt(l[1^h]))return l[1^h];if(f&&d&&1===l.length&&kt(d))return d;var v=t&&t===this.ownerID,y=f?d?c:c^u:c|u,_=f?d?qt(l,h,d,v):Ct(l,h,v):Rt(l,h,d,v);return v?(this.bitmap=y,this.nodes=_,this):new dt(t,y,_)},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&yn,o=this.nodes[i];return o?o.get(t+dn,e,n,r):r},vt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&yn,u=i===_n,c=this.nodes,f=c[a];if(u&&!f)return this;var h=Et(f,t,e+dn,n,r,i,o,s);if(h===f)return this;var l=this.count;if(f){if(!h&&(l--,l<Jn))return Ot(t,c,l,a)}else l++;var p=t&&t===this.ownerID,d=qt(c,a,h,p);return p?(this.count=l,this.nodes=d,this):new vt(t,l,d)},yt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if($(n,i[o][0]))return i[o][1];return r},yt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var a=i===_n;if(n!==this.keyHash)return a?this:(h(s),h(o),zt(this,t,e,n,[r,i]));for(var u=this.entries,c=0,f=u.length;c<f&&!$(r,u[c][0]);c++);var l=c<f;if(l?u[c][1]===i:a)return this;if(h(s),(a||!l)&&h(o),a&&2===f)return new _t(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,v=d?u:p(u);return l?a?c===f-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new yt(t,this.keyHash,v)},_t.prototype.get=function(t,e,n,r){return $(n,this.entry[0])?this.entry[1]:r},_t.prototype.update=function(t,e,n,r,i,o,s){var a=i===_n,u=$(r,this.entry[0]);return(u?i===this.entry[1]:a)?this:(h(s),a?void h(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new _t(t,this.keyHash,[r,i]):(h(o),zt(this,t,e,ot(r),[r,i])))},pt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1},dt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},_t.prototype.iterate=function(t,e){return t(this.entry)},t(mt,w),mt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return gt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return gt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=bt(o,e)}continue}e=this._stack=this._stack.__prev}return x()};var Wn,Kn=vn/4,Fn=vn/2,Jn=vn/4;t(Ut,nt),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("List [","]")},Ut.prototype.get=function(t,e){if(t=v(this,t),t>=0&&t<this.size){t+=this._origin;var n=Vt(this,t);return n&&n.array[t&yn]}return e},Ut.prototype.set=function(t,e){return Ft(this,t,e)},Ut.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Ut.prototype.insert=function(t,e){return this.splice(t,0,e)},Ut.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Kt()},Ut.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){$t(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Ut.prototype.pop=function(){return $t(this,0,-1)},Ut.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){$t(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Ut.prototype.shift=function(){return $t(this,1)},Ut.prototype.merge=function(){return Xt(this,void 0,arguments)},Ut.prototype.mergeWith=function(t){var e=un.call(arguments,1);return Xt(this,t,e)},Ut.prototype.mergeDeep=function(){return Xt(this,Lt,arguments)},Ut.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Xt(this,Dt(t),e)},Ut.prototype.setSize=function(t){return $t(this,0,t)},Ut.prototype.slice=function(t,e){var n=this.size;return _(t,e,n)?this:$t(this,m(t,n),g(e,n))},Ut.prototype.__iterator=function(t,e){var n=0,r=Ht(this,e);return new w(function(){var e=r();return e===Xn?x():S(t,n++,e)})},Ut.prototype.__iterate=function(t,e){for(var n,r=0,i=Ht(this,e);(n=i())!==Xn&&t(n,r++,this)!==!1;);return r},Ut.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Wt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Ut.isList=Bt;var Gn="@@__IMMUTABLE_LIST__@@",Vn=Ut.prototype;Vn[Gn]=!0,Vn[pn]=Vn.remove,Vn.setIn=Hn.setIn,Vn.deleteIn=Vn.removeIn=Hn.removeIn,Vn.update=Hn.update,Vn.updateIn=Hn.updateIn,Vn.mergeIn=Hn.mergeIn,Vn.mergeDeepIn=Hn.mergeDeepIn,Vn.withMutations=Hn.withMutations,Vn.asMutable=Hn.asMutable,Vn.asImmutable=Hn.asImmutable,Vn.wasAltered=Hn.wasAltered,Nt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&yn;if(r>=this.array.length)return new Nt([],t);var i,o=0===r;if(e>0){var s=this.array[r];if(i=s&&s.removeBefore(t,e-dn,n),i===s&&o)return this}if(o&&!i)return this;var a=Gt(this,t);if(!o)for(var u=0;u<r;u++)a.array[u]=void 0;return i&&(a.array[r]=i),a},Nt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&yn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-dn,n),i===o&&r===this.array.length-1)return this}var s=Gt(this,t);return s.array.splice(r+1),i&&(s.array[r]=i),s};var $n,Xn={};t(Qt,ht),Qt.of=function(){return this(arguments)},Qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Qt.prototype.set=function(t,e){return ne(this,t,e)},Qt.prototype.remove=function(t){return ne(this,t,_n)},Qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Qt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Qt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Qt.isOrderedMap=Zt,Qt.prototype[ln]=!0,Qt.prototype[pn]=Qt.prototype.remove;var Yn;t(re,T),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ue(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?ze(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?ze(this):0;return new w(function(){var i=n.next();return i.done?i:S(t,e?--r:r++,i.value,i)})},re.prototype[ln]=!0,t(ie,L),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new w(function(){var e=n.next();return e.done?e:S(t,r++,e.value,e)})},t(oe,D),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){var e=n.next();return e.done?e:S(t,e.value,e.value,e)})},t(se,T),se.prototype.entrySeq=function(){return this._iter.toSeq()},se.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){ke(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},se.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){ke(r);var i=o(r);return S(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=se.prototype.cacheResult=Ae,t(De,et),De.prototype.toString=function(){return this.__toString(je(this)+" {","}")},De.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},De.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},De.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Me(this,St()))},De.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+je(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Me(this,r)},De.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Me(this,e)},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},De.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},De.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Me(this,e,t):(this.__ownerID=t,this._map=e,this)};var Qn=De.prototype;Qn[pn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Hn.removeIn,Qn.merge=Hn.merge,Qn.mergeWith=Hn.mergeWith,Qn.mergeIn=Hn.mergeIn,Qn.mergeDeep=Hn.mergeDeep,Qn.mergeDeepWith=Hn.mergeDeepWith,Qn.mergeDeepIn=Hn.mergeDeepIn,Qn.setIn=Hn.setIn,Qn.update=Hn.update,Qn.updateIn=Hn.updateIn,Qn.withMutations=Hn.withMutations,Qn.asMutable=Hn.asMutable,Qn.asImmutable=Hn.asImmutable,t(Re,rt),Re.of=function(){return this(arguments)},Re.fromKeys=function(t){return this(n(t).keySeq())},Re.prototype.toString=function(){return this.__toString("Set {","}")},Re.prototype.has=function(t){return this._map.has(t)},Re.prototype.add=function(t){return Ue(this,this._map.set(t,!0))},Re.prototype.remove=function(t){return Ue(this,this._map.remove(t))},Re.prototype.clear=function(){return Ue(this,this._map.clear())},Re.prototype.union=function(){var t=un.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Re.prototype.intersect=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Re.prototype.subtract=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Re.prototype.merge=function(){return this.union.apply(this,arguments)},Re.prototype.mergeWith=function(t){var e=un.call(arguments,1);return this.union.apply(this,e)},Re.prototype.sort=function(t){return He(be(this,t))},Re.prototype.sortBy=function(t,e){return He(be(this,e,t))},Re.prototype.wasAltered=function(){return this._map.wasAltered()},Re.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Re.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Re.isSet=Ce;var Zn="@@__IMMUTABLE_SET__@@",tr=Re.prototype;tr[Zn]=!0,tr[pn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Hn.withMutations,tr.asMutable=Hn.asMutable,tr.asImmutable=Hn.asImmutable,tr.__empty=Ne,tr.__make=Be;var er;t(He,Re),He.of=function(){return this(arguments)},He.fromKeys=function(t){return this(n(t).keySeq())},He.prototype.toString=function(){return this.__toString("OrderedSet {","}")},He.isOrderedSet=We;var nr=He.prototype;nr[ln]=!0,nr.__empty=Fe,nr.__make=Ke;var rr;t(Je,nt),Je.of=function(){return this(arguments)},Je.prototype.toString=function(){return this.__toString("Stack [","]")},Je.prototype.get=function(t,e){var n=this._head;for(t=v(this,t);n&&t--;)n=n.next;return n?n.value:e},Je.prototype.peek=function(){return this._head&&this._head.value},Je.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ve(t,e)},Je.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ft(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ve(e,n)},Je.prototype.pop=function(){return this.slice(1)},Je.prototype.unshift=function(){return this.push.apply(this,arguments)},Je.prototype.unshiftAll=function(t){return this.pushAll(t)},Je.prototype.shift=function(){return this.pop.apply(this,arguments)},Je.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$e()},Je.prototype.slice=function(t,e){if(_(t,e,this.size))return this;var n=m(t,this.size),r=g(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Ve(i,o)},Je.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ve(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Je.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Je.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,S(t,n++,e)}return x()})},Je.isStack=Ge;var ir="@@__IMMUTABLE_STACK__@@",or=Je.prototype;or[ir]=!0,or.withMutations=Hn.withMutations,or.asMutable=Hn.asMutable,or.asImmutable=Hn.asImmutable,or.wasAltered=Hn.wasAltered;var sr;e.Iterator=w,Xe(e,{toArray:function(){ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,(!0))},toMap:function(){return ht(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Qt(this.toKeyedSeq())},toOrderedSet:function(){return He(s(this)?this.valueSeq():this)},toSet:function(){return Re(s(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return a(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Je(s(this)?this.valueSeq():this)},toList:function(){return Ut(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=un.call(arguments,0);return Ee(this,ye(this,t))},includes:function(t){return this.some(function(e){return $(e,t)})},entries:function(){return this.__iterator(Sn)},every:function(t,e){ft(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Ee(this,fe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(bn)},map:function(t,e){return Ee(this,ue(this,t,e))},reduce:function(t,e,n){ft(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,s){i?(i=!1,r=e):r=t.call(n,r,e,o,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,ce(this,!0))},slice:function(t,e){return Ee(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(Ze(t),e)},sort:function(t){return Ee(this,be(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return he(this,t,e)},equals:function(t){return X(this,t)},entrySeq:function(){var t=this;if(t._cache)return new M(t._cache);var e=t.toSeq().map(Qe).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ze(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(y)},flatMap:function(t,e){return Ee(this,me(this,t,e))},flatten:function(t){return Ee(this,_e(this,t,!0))},fromEntrySeq:function(){return new se(this)},get:function(t,e){return this.find(function(e,n){return $(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Le(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,_n):_n,r===_n)return e}return r},groupBy:function(t,e){return le(this,t,e)},has:function(t){return this.get(t,_n)!==_n},hasIn:function(t){return this.getIn(t,_n)!==_n},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return $(e,t)})},keySeq:function(){return this.toSeq().map(Ye).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ze(t),e)},sortBy:function(t,e){return Ee(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ze(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ar=e.prototype;ar[cn]=!0,ar[kn]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=en,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,Xe(n,{flip:function(){return Ee(this,ae(this))},mapEntries:function(t,e){var n=this,r=0;return Ee(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ee(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ur=n.prototype;ur[fn]=!0,ur[kn]=ar.entries,ur.__toJS=ar.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Xe(r,{toKeyedSeq:function(){return new re(this,(!1))},filter:function(t,e){return Ee(this,fe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ce(this,!1))},slice:function(t,e){return Ee(this,pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=m(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ee(this,1===n?r:r.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ee(this,_e(this,t,!1))},get:function(t,e){return t=v(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=v(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ee(this,ge(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=xe(this.toSeq(),L.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ee(this,n)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,ve(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return Ee(this,xe(this,nn,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,Ee(this,xe(this,t,e))}}),r.prototype[hn]=!0,r.prototype[ln]=!0,Xe(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ar.includes,i.prototype.contains=i.prototype.includes,Xe(T,n.prototype),Xe(L,r.prototype),Xe(D,i.prototype),Xe(et,n.prototype),Xe(nt,r.prototype),Xe(rt,i.prototype);var cr={Iterable:e,Seq:A,Collection:tt,Map:ht,OrderedMap:Qt,List:Ut,Stack:Je,Set:Re,OrderedSet:He,Record:De,Range:Z,Repeat:Y,is:$,fromJS:F};return cr})},function(t,e){"use strict";var n={},r=0,i=function(t,e,r){return n[t].call(e,r)};t.exports=function(t){return{on:function(e){var i="_"+ ++r;return n[i]=e,t+".trigger('"+i+"', this, event);"},trigger:i}}},function(t,e){"use strict";var n=t.exports={};n.isIE=function(t){function e(){var t=navigator.userAgent.toLowerCase();return t.indexOf("msie")!==-1||t.indexOf("trident")!==-1||t.indexOf(" edge/")!==-1}if(!e())return!1;if(!t)return!0;var n=function(){var t,e=3,n=document.createElement("div"),r=n.getElementsByTagName("i");do n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->";while(r[0]);return e>4?e:t}();return t===n},n.isLegacyOpera=function(){return!!window.opera}},function(t,e){"use strict";var n=t.exports={};n.forEach=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}}},function(t,e){t.exports={code:function(t,e,n){var r=this;return r.b(n=n||""),r.s(r.f("input",t,e,1),t,e,1,0,0,"")||r.s(r.f("a",t,e,1),t,e,1,0,0,"")||(r.b('<button onClick="'),r.b(r.v(r.f("onClick",t,e,0))),r.b('">'),r.b("\n"+n),r.b("  "),r.b(r.v(r.f("label",t,e,0))),r.b("\n"+n),r.b("</button>"),r.b("\n"+n)),r.b("\n"+n),r.s(r.f("input",t,e,1),t,e,0,100,246,"{{ }}")&&(r.rs(t,e,function(t,e,r){r.b('<input id="'),r.b(r.v(r.f("uid",t,e,0))),r.b('" type="'),r.b(r.v(r.f("type",t,e,0))),r.b('" accept="'),r.b(r.v(r.f("accept",t,e,0))),r.b('" onChange="'),r.b(r.v(r.f("onChange",t,e,0))),r.b('" style="display: none;" />'),r.b("\n"+n),r.b('<label for="'),r.b(r.v(r.f("uid",t,e,0))),r.b('">'),r.b(r.v(r.f("label",t,e,0))),r.b("</label>"),r.b("\n"+n)}),t.pop()),r.b("\n"+n),r.s(r.f("a",t,e,1),t,e,0,264,337,"{{ }}")&&(r.rs(t,e,function(t,e,r){r.b('<a href="#" download="'),r.b(r.v(r.f("download",t,e,0))),r.b('" onClick="'),r.b(r.v(r.f("onClick",t,e,0))),r.b('">'),r.b(r.v(r.f("label",t,e,0))),r.b("</a>"),r.b("\n"+n)}),t.pop()),r.fl()},partials:{},subs:{}}},function(t,e){t.exports={code:function(t,e,n){var r=this;return r.b(n=n||""),r.b("<div"),r.b("\n"+n),r.b('  class="'),r.b(r.v(r.d("classNames.wrapper",t,e,0))),r.b('"'),r.b("\n"+n),r.b('  style="width: 100%; height: 100%; display: flex; flex-direction: column; align-items: stretch"'),r.b("\n"+n),r.b(">"),r.b("\n"+n),r.b('  <div class="'),r.b(r.v(r.d("classNames.screen",t,e,0))),r.b('" style="flex: 1 1 auto;"></div>'),r.b("\n"+n),r.b("  <div"),r.b("\n"+n),r.b('    class="'),r.b(r.v(r.d("classNames.menuButtons",t,e,0))),r.b('"'),r.b("\n"+n),r.b('    style="width: 100%; height: 2rem; flex: 0 0 auto; background-color: gray"'),r.b("\n"+n),r.b("  >"),r.b("\n"+n),r.s(r.f("menuButtons",t,e,1),t,e,0,353,377,"{{ }}")&&(r.rs(t,e,function(t,e,n){n.b(n.rp("<button0",t,e,"      "))}),t.pop()),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<button0":{name:"button",partials:{},subs:{}}},subs:{}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2).Map,u=(n(2).List,n(22)({strategy:"scroll"})),c=n(10),f=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));
return n.state=new a(t),n.observed=["screen"],n.refs={},n.addEventListener("render",n._onrender),n.start(),n}return o(e,t),s(e,[{key:"render",value:function(){var t=this;this.template&&this.container&&(this.dispatchEvent(new Event("beforerender")),this.container.innerHTML=this.template.render(this.renderProps.toJS(),this.partial),this.selectors&&(this.refs=new a(this.selectors).filter(function(t){return"string"==typeof t}).map(function(e){return t.container.querySelector(e)}).toJS(),this.dispatchEvent(new Event("render"))))}},{key:"_onrender",value:function(){var t=this;this.observed.map(function(e){return{key:e,ref:t.refs[e]}}).forEach(function(e){u.listenTo(e.ref,function(){return t._dispatchResizeEvent(e.key)})})}},{key:"_dispatchResizeEvent",value:function(t){this.dispatchEvent(new Event(t+".resize"))}},{key:"container",get:function(){return this.state.get("container")},set:function(t){this.state=this.state.set("container",t)}},{key:"renderProps",get:function(){return this.state.get("renderProps",new a)},set:function(t){this.state=this.state.set("renderProps",t)}},{key:"selectors",get:function(){return this.state.get("selectors",{})},set:function(t){this.state=this.state.set("selectors",t)}},{key:"template",get:function(){return this.state.get("template")},set:function(t){this.state=this.state.set("template",t)}},{key:"partial",get:function(){return this.state.get("partial",{})},set:function(t){this.state=this.state.set("partial",t)}},{key:"menuButtons",get:function(){return this.renderProps.get("menuButtons")},set:function(t){this.renderProps=this.renderProps.set("menuButtons",t)}},{key:"classNames",get:function(){return this.renderProps.get("classNames")},set:function(t){this.renderProps=this.renderProps.set("classNames",t)}}]),e}(c);t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(32),u=n(37);u.debug=!0;var c=n(12),f=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.lastModels={},t.urls={screen:"https://embed.hackforplay.xyz/open-source/screen/alpha-3.html",editor:"https://embed.hackforplay.xyz/open-source/editor/alpha-3.html"},t.promises={},t.refs={},t}return o(e,t),s(e,[{key:"start",value:function(t,e){var n=this,r=this.promises[t]||Promise.resolve();return this.promises[t]=r.then(function(){return n.emit(t+".beforeunload"),n.lastModels[t]=e,new u({container:c(),url:n.urls[t],model:e})}).then(function(e){return n.once(t+".beforeunload",function(){return e.destroy()}),e.frame.classList.add("h4p__frame_"+t),n.refs[t]=e,n.emit(t+".load",{child:e}),e}),this.promises[t]}},{key:"restart",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.start(t,Object.assign({},this.lastModels[t],e))}},{key:"show",value:function(t){this.classListOperation(t,"add","show")}},{key:"hide",value:function(t){this.classListOperation(t,"remove","show")}},{key:"toggle",value:function(t){this.classListOperation(t,"toggle","show")}},{key:"classListOperation",value:function(t,e,n){var r=this.refs[t];r&&r.frame.classList[e]("h4p__frame-"+n)}},{key:"setRect",value:function(t,e,n,r,i){var o=this.refs[t];if(o){var s=o.frame.style;s.left=h(e),s.top=h(n),s.width=h(r),s.height=h(i)}}}]),e}(a),h=function(t){return t+("number"==typeof t?"px":"")};t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(30),u=n(39),c=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.state=null;var n=null,o=function s(){n!==t.state&&t.render(),n=t.state,u(s)};return t.start=function(){return u(o)},t}return o(e,t),s(e,[{key:"render",value:function(){}}]),e}(a);t.exports=c},function(t,e,n){"use strict";var r=n(3)("h4p").on,i=n(2).Map;t.exports=function(t){return new i(t).map(function(t){return"function"==typeof t?r(t):t}).set("uid",Math.random()).toJS()}},function(t,e,n){"use strict";var r;t.exports=function(){return r||(r=document.createElement("div"),r.classList.add("h4p__frame_container"),document.body.appendChild(r)),r}},function(t,e,n){"use strict";var r={container:"container",wrapper:"wrapper",screen:"screen",menuButtons:"menu_buttons"},i={};Object.keys(r).forEach(function(t){return i[t]=".h4p__"+r[t]}),i.htmlClass={},Object.keys(r).forEach(function(t){return i.htmlClass[t]="h4p__"+r[t]}),t.exports=i},function(t,e){"use strict";function n(t,e,n,r){if(t.refs.screen&&e){var i=t.refs.screen.getBoundingClientRect();e.width=n,e.height=r;var o={x:i.left+i.width/2-n/2+pageXOffset,y:i.top+i.height/2-r/2+pageYOffset},s=function(t){return Math.max(t.height,1)/Math.max(t.width,1)},a=s(i)>s({width:n,height:r})?i.width/n:i.height/r;e.style.transform="translate("+o.x+"px, "+o.y+"px) scale("+a+")"}}t.exports=function(t){var e,r,i;return function(o){var s=o.frame,a=o.width,u=o.height;e="undefined"==typeof s?e:s,r="undefined"==typeof a?r:a,i="undefined"==typeof u?i:u,n(t,e,r,i)}}},function(t,e,n){"use strict";var r=n(34);t.exports={content:new r.Template(n(7)),button:new r.Template(n(6))}},function(t,e,n){"use strict";function r(){function t(t,e){e||(e=t,t=0),t>o?o=t:t<s&&(s=t),r[t]||(r[t]=[]),r[t].push(e),i++}function e(){for(var t=s;t<=o;t++)for(var e=r[t],n=0;n<e.length;n++){var i=e[n];i()}}function n(){return i}var r={},i=0,o=0,s=0;return{add:t,process:e,size:n}}var i=n(17);t.exports=function(t){function e(t,e){!d&&h&&f&&0===p.size()&&s(),p.add(t,e)}function n(){for(d=!0;p.size();){var t=p;p=r(),t.process()}d=!1}function o(t){d||(void 0===t&&(t=f),l&&(a(l),l=null),t?s():n())}function s(){l=u(n)}function a(t){var e=clearTimeout;return e(t)}function u(t){var e=function(t){return setTimeout(t,0)};return e(t)}t=t||{};var c=t.reporter,f=i.getOption(t,"async",!0),h=i.getOption(t,"auto",!0);h&&!f&&(c&&c.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),f=!0);var l,p=r(),d=!1;return{add:e,force:o}}},function(t,e){"use strict";function n(t,e,n){var r=t[e];return void 0!==r&&null!==r||void 0===n?r:n}var r=t.exports={};r.getOption=n},function(t,e,n){e=t.exports=n(19)(),e.push([t.id,".h4p__frame_container{position:absolute;top:0;left:0;padding:0;margin:0}.h4p__frame_container iframe{display:none;border:0 none;margin:0;padding:0}.h4p__frame_container iframe.h4p__frame-show{display:block}.h4p__frame_container iframe.h4p__frame_screen{position:absolute;top:0;left:0;z-index:1}.h4p__frame_container iframe.h4p__frame_editor{position:fixed;box-shadow:0 3px 10px rgba(0,0,0,.156863),0 3px 10px rgba(0,0,0,.227451);z-index:2}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t){function e(t,e){function n(){e(t)}if(!i(t))throw new Error("Element is not detectable by this strategy.");if(r.isIE(8))u(t).object={proxy:n},t.attachEvent("onresize",n);else{var o=i(t);o.contentDocument.defaultView.addEventListener("resize",n)}}function n(t,e,n){function i(t,e){function n(){function n(){if("static"===c.position){t.style.position="relative";var e=function(t,e,n,r){function i(t){return t.replace(/[^-\d\.]/g,"")}var o=n[r];"auto"!==o&&"0"!==i(o)&&(t.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",e),e.style[r]=0)};e(s,t,c,"top"),e(s,t,c,"right"),e(s,t,c,"bottom"),e(s,t,c,"left")}}function a(){function r(t,e){return t.contentDocument?void e(t.contentDocument):void setTimeout(function(){r(t,e)},100)}o||n();var i=this;r(i,function(n){e(t)})}""!==c.position&&(n(c),o=!0);var f=document.createElement("object");f.style.cssText=i,f.type="text/html",f.onload=a,r.isIE()||(f.data="about:blank"),t.appendChild(f),u(t).object=f,r.isIE()&&(f.data="about:blank")}var i="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",o=!1,c=window.getComputedStyle(t),f=t.offsetWidth,h=t.offsetHeight;u(t).startSize={width:f,height:h},a?a.add(n):n()}n||(n=e,e=t,t=null),t=t||{};t.debug;r.isIE(8)?n(e):i(e,n)}function i(t){return u(t).object}function o(t){r.isIE(8)?t.detachEvent("onresize",u(t).object.proxy):t.removeChild(i(t)),delete u(t).object}t=t||{};var s=t.reporter,a=t.batchProcessor,u=t.stateHandler.getState;if(!s)throw new Error("Missing required dependency: reporter.");return{makeDetectable:n,addListener:e,uninstall:o}}},function(t,e,n){"use strict";var r=n(5).forEach;t.exports=function(t){function e(){var t=500,e=500,n=document.createElement("div");n.style.cssText="position: absolute; width: "+2*t+"px; height: "+2*e+"px; visibility: hidden; margin: 0; padding: 0;";var r=document.createElement("div");r.style.cssText="position: absolute; width: "+t+"px; height: "+e+"px; overflow: scroll; visibility: none; top: "+3*-t+"px; left: "+3*-e+"px; visibility: hidden; margin: 0; padding: 0;",r.appendChild(n),document.body.insertBefore(r,document.body.firstChild);var i=t-r.clientWidth,o=e-r.clientHeight;return document.body.removeChild(r),{width:i,height:o}}function n(t,e){function n(e,n){n=n||function(t){document.head.appendChild(t)};var r=document.createElement("style");return r.innerHTML=e,r.id=t,n(r),r}if(!document.getElementById(t)){var r=e+"_animation",i=e+"_animation_active",o="/* Created by the element-resize-detector library. */\n";o+="."+e+" > div::-webkit-scrollbar { display: none; }\n\n",o+="."+i+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+r+"; animation-name: "+r+"; }\n",o+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",o+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",n(o)}}function i(t){t.className+=" "+m+"_animation_active"}function o(t,e,n){if(t.addEventListener)t.addEventListener(e,n);else{if(!t.attachEvent)return l.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+e,n)}}function s(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n);else{if(!t.detachEvent)return l.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+e,n)}}function a(t){return d(t).container.childNodes[0].childNodes[0].childNodes[0]}function u(t){return d(t).container.childNodes[0].childNodes[0].childNodes[1]}function c(t,e){var n=d(t).listeners;if(!n.push)throw new Error("Cannot add listener to an element that is not detectable.");d(t).listeners.push(e)}function f(t,e,n){function s(){if(t.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(v.get(e),"Scroll: "),l.log.apply)l.log.apply(null,n);else for(var r=0;r<n.length;r++)l.log(n[r])}}function c(t){function e(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}return!e(t)}function f(t){var e=d(t).container.childNodes[0];return getComputedStyle(e).width.indexOf("px")===-1}function h(){var t=getComputedStyle(e),n={};return n.position=t.position,n.width=e.offsetWidth,n.height=e.offsetHeight,n.top=t.top,n.right=t.right,n.bottom=t.bottom,n.left=t.left,n.widthCSS=t.width,n.heightCSS=t.height,n}function _(){var t=h();d(e).startSize={width:t.width,height:t.height},s("Element start size",d(e).startSize)}function g(){d(e).listeners=[]}function b(){if(s("storeStyle invoked."),!d(e))return void s("Aborting because element has been uninstalled");var t=h();d(e).style=t}function w(t,e,n){d(t).lastWidth=e,d(t).lastHeight=n}function S(t){return a(t).childNodes[0]}function x(){return 2*y.width+1}function E(){return 2*y.height+1}function k(t){return t+10+x()}function z(t){return t+10+E()}function I(t){return 2*t+x()}function O(t){return 2*t+E()}function A(t,e,n){var r=a(t),i=u(t),o=k(e),s=z(n),c=I(e),f=O(n);r.scrollLeft=o,r.scrollTop=s,i.scrollLeft=c,i.scrollTop=f}function T(){var t=d(e).container;return t||(t=document.createElement("div"),t.className=m,t.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",d(e).container=t,i(t),e.appendChild(t),o(t,"animationstart",function(){d(e).onRendered&&d(e).onRendered()})),t}function L(){function t(){var t=d(e).style;if("static"===t.position){e.style.position="relative";var n=function(t,e,n,r){function i(t){return t.replace(/[^-\d\.]/g,"")}var o=n[r];"auto"!==o&&"0"!==i(o)&&(t.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",e),e.style[r]=0)};n(l,e,t,"top"),n(l,e,t,"right"),n(l,e,t,"bottom"),n(l,e,t,"left")}}function n(t,e,n,r){return t=t?t+"px":"0",e=e?e+"px":"0",n=n?n+"px":"0",r=r?r+"px":"0","left: "+t+"; top: "+e+"; right: "+r+"; bottom: "+n+";"}function r(){d(e).onExpand&&d(e).onExpand()}function i(){d(e).onShrink&&d(e).onShrink()}if(s("Injecting elements"),!d(e))return void s("Aborting because element has been uninstalled");t();var a=d(e).container;a||(a=T());var u=y.width,c=y.height,f="position: absolute; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",h="position: absolute; overflow: hidden; z-index: -1; visibility: hidden; "+n(-(1+u),-(1+c),-c,-u),p="position: absolute; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",v="position: absolute; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",_="position: absolute; left: 0; top: 0;",g="position: absolute; width: 200%; height: 200%;",b=document.createElement("div"),w=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),E=document.createElement("div"),k=document.createElement("div");b.dir="ltr",b.style.cssText=f,b.className=m,w.className=m,w.style.cssText=h,S.style.cssText=p,x.style.cssText=_,E.style.cssText=v,k.style.cssText=g,S.appendChild(x),E.appendChild(k),w.appendChild(S),w.appendChild(E),b.appendChild(w),a.appendChild(b),o(S,"scroll",r),o(E,"scroll",i),d(e).onExpandScroll=r,d(e).onShrinkScroll=i}function D(){function n(t,e,n){var r=S(t),i=k(e),o=z(n);r.style.width=i+"px",r.style.height=o+"px"}function i(r){var i=e.offsetWidth,o=e.offsetHeight;s("Storing current size",i,o),w(e,i,o),p.add(0,function(){if(!d(e))return void s("Aborting because element has been uninstalled");if(t.debug){var r=e.offsetWidth,a=e.offsetHeight;r===i&&a===o||l.warn(v.get(e),"Scroll: Size changed before updating detector elements.")}n(e,i,o)}),p.add(1,function(){return d(e)?void A(e,i,o):void s("Aborting because element has been uninstalled")}),r&&p.add(2,function(){return d(e)?void r():void s("Aborting because element has been uninstalled")})}function o(){function t(){return void 0===d(e).lastNotifiedWidth}s("notifyListenersIfNeeded invoked");var n=d(e);return t()&&n.lastWidth===n.startSize.width&&n.lastHeight===n.startSize.height?s("Not notifying: Size is the same as the start size, and there has been no notification yet."):n.lastWidth===n.lastNotifiedWidth&&n.lastHeight===n.lastNotifiedHeight?s("Not notifying: Size already notified"):(s("Current size not notified, notifying..."),n.lastNotifiedWidth=n.lastWidth,n.lastNotifiedHeight=n.lastHeight,void r(d(e).listeners,function(t){t(e)}))}function c(){if(s("startanimation triggered."),f(e))return void s("Ignoring since element is still unrendered...");s("Element rendered.");var t=a(e),n=u(e);0!==t.scrollLeft&&0!==t.scrollTop&&0!==n.scrollLeft&&0!==n.scrollTop||(s("Scrollbars out of sync. Updating detector elements..."),i(o))}function h(){if(s("Scroll detected."),f(e))return void s("Scroll event fired while unrendered. Ignoring...");var t=e.offsetWidth,n=e.offsetHeight;t!==e.lastWidth||n!==e.lastHeight?(s("Element size changed."),i(o)):s("Element size has not changed ("+t+"x"+n+").")}if(s("registerListenersAndPositionElements invoked."),!d(e))return void s("Aborting because element has been uninstalled");d(e).onRendered=c,d(e).onExpand=h,d(e).onShrink=h;var y=d(e).style;n(e,y.width,y.height)}function M(){if(s("finalizeDomMutation invoked."),!d(e))return void s("Aborting because element has been uninstalled");var t=d(e).style;w(e,t.width,t.height),A(e,t.width,t.height)}function j(){n(e)}function P(){s("Installing..."),g(),_(),p.add(0,b),p.add(1,L),p.add(2,D),p.add(3,M),p.add(4,j)}n||(n=e,e=t,t=null),t=t||{},s("Making detectable..."),c(e)?(s("Element is detached"),T(),s("Waiting until element is attached..."),d(e).onRendered=function(){s("Element is now attached"),P()}):P()}function h(t){var e=d(t);e&&(e.busy||(s(a(t),"scroll",e.onExpandScroll),s(u(t),"scroll",e.onShrinkScroll),t.removeChild(e.container)))}t=t||{};var l=t.reporter,p=t.batchProcessor,d=t.stateHandler.getState,v=(t.stateHandler.hasState,t.idHandler);if(!p)throw new Error("Missing required dependency: batchProcessor");if(!l)throw new Error("Missing required dependency: reporter.");var y=e(),_="erd_scroll_detection_scrollbar_style",m="erd_scroll_detection_container";return n(_,m),{makeDetectable:f,addListener:c,uninstall:h}}},function(t,e,n){"use strict";function r(t){return Array.isArray(t)||void 0!==t.length}function i(t){if(Array.isArray(t))return t;var e=[];return a(t,function(t){e.push(t)}),e}function o(t){return t&&1===t.nodeType}function s(t,e,n){var r=t[e];return void 0!==r&&null!==r||void 0===n?r:n}var a=n(5).forEach,u=n(23),c=n(26),f=n(24),h=n(25),l=n(27),p=n(4),d=n(16),v=n(28),y=n(20),_=n(21);t.exports=function(t){function e(t,e,n){function u(t){var e=z.get(t);a(e,function(e){e(t)})}function c(t,e,n){z.add(e,n),t&&n(e)}if(n||(n=e,e=t,t={}),!e)throw new Error("At least one element required.");if(!n)throw new Error("Listener required.");if(o(e))e=[e];else{if(!r(e))return w.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=i(e)}var f=0,h=s(t,"callOnAdd",E.callOnAdd),l=s(t,"onReady",function(){}),p=s(t,"debug",E.debug);a(e,function(t){v.getState(t)||(v.initState(t),m.set(t));var r=m.get(t);return p&&w.log("Attaching listener to element",r,t),I.isDetectable(t)?(p&&w.log(r,"Already detecable, adding listener."),c(h,t,n),void f++):(p&&w.log(r,"Not detectable."),I.isBusy(t)?(p&&w.log(r,"System busy making it detectable"),c(h,t,n),T[r]=T[r]||[],void T[r].push(function(){f++,f===e.length&&l()})):(p&&w.log(r,"Making detectable..."),I.markBusy(t,!0),k.makeDetectable({debug:p},t,function(t){if(p&&w.log(r,"onElementDetectable"),v.getState(t)){if(I.markAsDetectable(t),I.markBusy(t,!1),k.addListener(t,u),c(h,t,n),v.getState(t).startSize){var i=t.offsetWidth,o=t.offsetHeight;v.getState(t).startSize.width===i&&v.getState(t).startSize.height===o||u(t)}T[r]&&a(T[r],function(t){t()})}else p&&w.log(r,"Element uninstalled before being detectable.");delete T[r],f++,f===e.length&&l()})))}),f===e.length&&l()}function n(t){if(!t)return w.error("At least one element is required.");if(o(t))t=[t];else{if(!r(t))return w.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=i(t)}a(t,function(t){z.removeAllListeners(t),k.uninstall(t),v.cleanState(t)})}t=t||{};var m;if(t.idHandler)m={get:function(e){t.idHandler.get(e,!0)},set:t.idHandler.set};else{var g=f(),b=h({idGenerator:g,stateHandler:v});m=b}var w=t.reporter;if(!w){var S=w===!1;w=l(S)}var x=s(t,"batchProcessor",d({reporter:w})),E={};E.callOnAdd=!!s(t,"callOnAdd",!0),E.debug=!!s(t,"debug",!1);var k,z=c(m),I=u({stateHandler:v}),O=s(t,"strategy","object"),A={reporter:w,batchProcessor:x,stateHandler:v,idHandler:m};if("scroll"===O&&(p.isLegacyOpera()?(w.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),O="object"):p.isIE(9)&&(w.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),O="object")),"scroll"===O)k=_(A);else{if("object"!==O)throw new Error("Invalid strategy name: "+O);k=y(A)}var T={};return{listenTo:e,removeListener:z.removeListener,removeAllListeners:z.removeAllListeners,uninstall:n}}},function(t,e){"use strict";t.exports=function(t){function e(t){var e=o(t);return e&&!!e.isDetectable}function n(t){o(t).isDetectable=!0}function r(t){return!!o(t).busy}function i(t,e){o(t).busy=!!e}var o=t.stateHandler.getState;return{isDetectable:e,markAsDetectable:n,isBusy:r,markBusy:i}}},function(t,e){"use strict";t.exports=function(){function t(){return e++}var e=1;return{generate:t}}},function(t,e){"use strict";t.exports=function(t){function e(t){var e=i(t);return e&&void 0!==e.id?e.id:null}function n(t){var e=i(t);if(!e)throw new Error("setId required the element to have a resize detection state.");var n=r.generate();return e.id=n,n}var r=t.idGenerator,i=t.stateHandler.getState;return{get:e,set:n}}},function(t,e){"use strict";t.exports=function(t){function e(e){return o[t.get(e)]||[]}function n(e,n){var r=t.get(e);o[r]||(o[r]=[]),o[r].push(n)}function r(t,n){for(var r=e(t),i=0,o=r.length;i<o;++i)if(r[i]===n){r.splice(i,1);break}}function i(e){var n=o[t.get(e)];n&&(n.length=0)}var o={};return{get:e,add:n,removeListener:r,removeAllListeners:i}}},function(t,e){"use strict";t.exports=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var r=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var n=0;n<arguments.length;n++)t(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},function(t,e){"use strict";function n(t){return t[o]={},r(t)}function r(t){return t[o]}function i(t){delete t[o]}var o="_erd";t.exports={initState:n,getState:r,cleanState:i}},function(t,e,n){"use strict";function r(t,e){for(var n=t[s][e];null!=n;){if(n.kind===a)return n.listener;n=n.next}return null}function i(t,e,n){"function"!=typeof n&&"object"!=typeof n&&(n=null);for(var r=null,i=t[s][e];null!=i;)i.kind===a?null==r?t[s][e]=i.next:r.next=i.next:r=i,i=i.next;null!=n&&(null==r?t[s][e]=u(n,a):r.next=u(n,a))}var o=n(1),s=o.LISTENERS,a=o.ATTRIBUTE,u=o.newNode;e.defineCustomEventTarget=function(t,e){function n(){t.call(this)}var o={constructor:{value:n,configurable:!0,writable:!0}};return e.forEach(function(t){o["on"+t]={get:function(){return r(this,t)},set:function(e){i(this,t,e)},configurable:!0,enumerable:!0}}),n.prototype=Object.create(t.prototype,o),n}},function(t,e,n){"use strict";var r=n(1),i=n(29),o=n(31),s=r.LISTENERS,a=r.CAPTURE,u=r.BUBBLE,c=r.ATTRIBUTE,f=r.newNode,h=i.defineCustomEventTarget,l=o.createEventWrapper,p=o.STOP_IMMEDIATE_PROPAGATION_FLAG,d="undefined"!=typeof window&&"undefined"!=typeof window.EventTarget,v=t.exports=function y(){if(!(this instanceof y)){if(1===arguments.length&&Array.isArray(arguments[0]))return h(y,arguments[0]);if(arguments.length>0){for(var t=Array(arguments.length),e=0;e<arguments.length;++e)t[e]=arguments[e];return h(y,t)}throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,s,{value:Object.create(null)})};v.prototype=Object.create((d?window.EventTarget:Object).prototype,{constructor:{value:v,writable:!0,configurable:!0},addEventListener:{value:function(t,e,n){if(null==e)return!1;if("function"!=typeof e&&"object"!=typeof e)throw new TypeError('"listener" is not an object.');var r=n?a:u,i=this[s][t];if(null==i)return this[s][t]=f(e,r),!0;for(var o=null;null!=i;){if(i.listener===e&&i.kind===r)return!1;o=i,i=i.next}return o.next=f(e,r),!0},configurable:!0,writable:!0},removeEventListener:{value:function(t,e,n){if(null==e)return!1;for(var r=n?a:u,i=null,o=this[s][t];null!=o;){if(o.listener===e&&o.kind===r)return null==i?this[s][t]=o.next:i.next=o.next,!0;i=o,o=o.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(t){var e=this[s][t.type];if(null==e)return!0;for(var n=l(t,this);null!=e&&("function"==typeof e.listener?e.listener.call(this,n):e.kind!==c&&"function"==typeof e.listener.handleEvent&&e.listener.handleEvent(n),!n[p]);)e=e.next;return!n.defaultPrevented},configurable:!0,writable:!0}})},function(t,e,n){"use strict";var r=n(1).createUniqueKey,i=r("stop_immediate_propagation_flag"),o=r("canceled_flag"),s=r("original_event"),a=Object.freeze({stopPropagation:Object.freeze({value:function(){var t=this[s];"function"==typeof t.stopPropagation&&t.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[i]=!0;var t=this[s];"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){this.cancelable===!0&&(this[o]=!0);var t=this[s];"function"==typeof t.preventDefault&&t.preventDefault()},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[o]},enumerable:!0,configurable:!0})});e.STOP_IMMEDIATE_PROPAGATION_FLAG=i,e.createEventWrapper=function(t,e){var n="number"==typeof t.timeStamp?t.timeStamp:Date.now(),r={type:{value:t.type,enumerable:!0},target:{value:e,enumerable:!0},currentTarget:{value:e,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(t.bubbles),enumerable:!0},cancelable:{value:Boolean(t.cancelable),enumerable:!0},timeStamp:{value:n,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};return r[i]={value:!1,writable:!0},r[o]={value:!1,writable:!0},r[s]={value:t},"undefined"!=typeof t.detail&&(r.detail={value:t.detail,enumerable:!0}),Object.create(Object.create(t,a),r)}},function(t,e,n){var r;!function(i){function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._events.maxListeners=t.maxListeners!==i?t.maxListeners:l,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=l}function a(t){console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",t),console.trace&&console.trace()}function u(t){this._events={},this.newListener=!1,s.call(this,t)}function c(t,e,n,r){if(!n)return[];var i,o,s,a,u,f,h,l=[],p=e.length,d=e[r],v=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===d||"**"===d||n[d]){if("*"===d){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(l=l.concat(c(t,e,n[s],r+1)));return l}if("**"===d){h=r+1===p||r+2===p&&"*"===v,h&&n._listeners&&(l=l.concat(c(t,e,n,p)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!h&&(l=l.concat(c(t,e,n[s],p))),l=l.concat(c(t,e,n[s],r))):l=s===v?l.concat(c(t,e,n[s],r+2)):l.concat(c(t,e,n[s],r)));return l}l=l.concat(c(t,e,n[d],r+1))}if(a=n["*"],a&&c(t,e,a,r+1),u=n["**"])if(r<p){u._listeners&&c(t,e,u,p);for(s in u)"_listeners"!==s&&u.hasOwnProperty(s)&&(s===v?c(t,e,u[s],r+2):s===d?c(t,e,u[s],r+1):(f={},f[s]=u[s],c(t,e,{"**":f},r+1)))}else u._listeners?c(t,e,u,p):u["*"]&&u["*"]._listeners&&c(t,e,u["*"],p);return l}function f(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;n+1<r;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var o=this.listenerTree,s=t.shift();s!==i;){if(o[s]||(o[s]={}),o=o[s],0===t.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(e),!o._listeners.warned&&this._events.maxListeners>0&&o._listeners.length>this._events.maxListeners&&(o._listeners.warned=!0,a(o._listeners.length))):o._listeners=e,!0;s=t.shift()}return!0}var h=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=10;u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==i&&(this._events||o.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(t,e){return this.many(t,1,e),this},u.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},u.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,n,r,i,s,a=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),a>3)for(e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];for(r=0,n=s.length;r<n;r++)switch(this.event=t,a){case 1:s[r].call(this,t);break;case 2:s[r].call(this,t,arguments[1]);break;case 3:s[r].call(this,t,arguments[1],arguments[2]);break;default:s[r].apply(this,e)}}if(this.wildcard){s=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,s,u,this.listenerTree,0)}else{if(s=this._events[t],"function"==typeof s){switch(this.event=t,a){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(a-1),i=1;i<a;i++)e[i-1]=arguments[i];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(a>3)for(e=new Array(a-1),i=1;i<a;i++)e[i-1]=arguments[i];for(r=0,n=s.length;r<n;r++)switch(this.event=t,a){case 1:s[r].call(this);break;case 2:s[r].call(this,arguments[1]);break;case 3:s[r].call(this,arguments[1],arguments[2]);break;default:s[r].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,n,r,i,s,a=[],u=arguments.length;if(this._all){if(u>3)for(e=new Array(u),i=1;i<u;i++)e[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=t,u){case 1:a.push(this._all[r].call(this,t));break;case 2:a.push(this._all[r].call(this,t,arguments[1]));break;case 3:a.push(this._all[r].call(this,t,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,e))}}if(this.wildcard){s=[];var f="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,s,f,this.listenerTree,0)}else s=this._events[t];
if("function"==typeof s)switch(this.event=t,u){case 1:a.push(s.call(this));break;case 2:a.push(s.call(this,arguments[1]));break;case 3:a.push(s.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];a.push(s.apply(this,e))}else if(s&&s.length){if(u>3)for(e=new Array(u-1),i=1;i<u;i++)e[i-1]=arguments[i];for(r=0,n=s.length;r<n;r++)switch(this.event=t,u){case 1:a.push(s[r].call(this));break;case 2:a.push(s[r].call(this,arguments[1]));break;case 3:a.push(s[r].call(this,arguments[1],arguments[2]));break;default:a.push(s[r].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},u.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",t,e),this.wildcard?(f.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),this._events[t].push(e),!this._events[t].warned&&this._events.maxListeners>0&&this._events[t].length>this._events.maxListeners&&(this._events[t].warned=!0,a(this._events[t].length))):this._events[t]=e,this)},u.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(t,e){function n(t){if(t!==i){var e=Object.keys(t);for(var r in e){var o=e[r],s=t[o];s instanceof Function||"object"!=typeof s||null===s||(Object.keys(s).length>0&&n(t[o]),0===Object.keys(s).length&&delete t[o])}}}if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,o=[];if(this.wildcard){var s="string"==typeof t?t.split(this.delimiter):t.slice();o=c.call(this,null,s,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],o.push({_listeners:r})}for(var a=0;a<o.length;a++){var u=o[a];if(r=u._listeners,h(r)){for(var f=-1,l=0,p=r.length;l<p;l++)if(r[l]===e||r[l].listener&&r[l].listener===e||r[l]._origin&&r[l]._origin===e){f=l;break}if(f<0)continue;return this.wildcard?u._listeners.splice(f,1):this._events[t].splice(f,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete u._listeners:delete this._events[t],this.emit("removeListener",t,e))}return n(this.listenerTree),this},u.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;n<r;n++)if(t===e[n])return e.splice(n,1),this.emit("removeListenerAny",t),this}else{for(e=this._all,n=0,r=e.length;n<r;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=c.call(this,null,e,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[t]=null);return this},u.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return c.call(this,e,n,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),h(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},u.prototype.listenerCount=function(t){return this.listeners(t).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return u}.call(e,n,e,t),!(r!==i&&(t.exports=r))}()},function(t,e,n){!function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function r(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,i=t.length;r<i;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}function i(e,n,r,a){var u=[],c=null,f=null,h=null;for(f=r[r.length-1];e.length>0;){if(h=e.shift(),f&&"<"==f.tag&&!(h.tag in w))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||o(h,a))r.push(h),h.nodes=i(e,h.tag,r,a);else{if("/"==h.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+h.n);if(c=r.pop(),h.n!=c.n&&!s(h.n,c.n,a))throw new Error("Nesting error: "+c.n+" vs. "+h.n);return c.end=h.i,u}"\n"==h.tag&&(h.last=0==e.length||"\n"==e[0].tag)}u.push(h)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return u}function o(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==t&&n[r].o==e)return!0}function a(t){var e=[];for(var n in t)e.push('"'+c(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function u(t){var e=[];for(var n in t.partials)e.push('"'+c(n)+'":{name:"'+c(t.partials[n].name)+'", '+u(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function c(t){return t.replace(m,"\\\\").replace(v,'\\"').replace(y,"\\n").replace(_,"\\r").replace(g,"\\u2028").replace(b,"\\u2029")}function f(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var n="<"+(e.prefix||""),r=n+t.n+S++;return e.partials[r]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+c(r)+'",c,p,"'+(t.indent||"")+'"));',r}function l(t,e){e.code+="t.b(t.t(t."+f(t.n)+'("'+c(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var d=/\S/,v=/\"/g,y=/\n/g,_=/\r/g,m=/\\/g,g=/\u2028/,b=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(i,o){function s(){m.length>0&&(g.push({tag:"_t",text:new String(m)}),m="")}function a(){for(var e=!0,n=S;n<g.length;n++)if(e=t.tags[g[n].tag]<t.tags._v||"_t"==g[n].tag&&null===g[n].text.match(d),!e)return!1;return e}function u(t,e){if(s(),t&&a())for(var n,r=S;r<g.length;r++)g[r].text&&((n=g[r+1])&&">"==n.tag&&(n.indent=g[r].text.toString()),g.splice(r,1));else e||g.push({tag:"\n"});b=!1,S=g.length}function c(t,e){var r="="+E,i=t.indexOf(r,e),o=n(t.substring(t.indexOf("=",e)+1,i)).split(" ");return x=o[0],E=o[o.length-1],i+r.length-1}var f=i.length,h=0,l=1,p=2,v=h,y=null,_=null,m="",g=[],b=!1,w=0,S=0,x="{{",E="}}";for(o&&(o=o.split(" "),x=o[0],E=o[1]),w=0;w<f;w++)v==h?r(x,i,w)?(--w,s(),v=l):"\n"==i.charAt(w)?u(b):m+=i.charAt(w):v==l?(w+=x.length-1,_=t.tags[i.charAt(w+1)],y=_?i.charAt(w+1):"_v","="==y?(w=c(i,w),v=h):(_&&w++,v=p),b=w):r(E,i,w)?(g.push({tag:y,n:n(m),otag:x,ctag:E,i:"/"==y?b-x.length:w+E.length}),m="",w+=E.length-1,v=h,"{"==y&&("}}"==E?w++:e(g[g.length-1]))):m+=i.charAt(w);return u(b,!0),g};var w={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+u(e)+"}"};var S=0;t.generate=function(e,n,r){S=0;var i={code:"",subs:{},partials:{}};return t.walk(e,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+f(e.n)+'("'+c(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+f(e.n)+'("'+c(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":h,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var i=n.partials[h(e,n)];i.subs=r.subs,i.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+c(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+f(t.n)+'("'+c(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=p('"'+c(t.text)+'"')},"{":l,"&":l},t.walk=function(e,n){for(var r,i=0,o=e.length;i<o;i++)r=t.codegen[e[i].tag],r&&r(e[i],n);return n},t.parse=function(t,e,n){return n=n||{},i(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),i=this.cache[r];if(i){var o=i.partials;for(var s in o)delete o[s].instance;return i}return i=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=i}}(e)},function(t,e,n){var r=n(33);r.Template=n(35).Template,r.template=r.Template,t.exports=r},function(t,e,n){!function(t){function e(t,e,n){var r;return e&&"object"==typeof e&&(void 0!==e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}function n(t,e,n,r,i,o){function s(){}function a(){}s.prototype=t,a.prototype=t.subs;var u,c=new s;c.subs=new a,c.subsText={},c.buf="",r=r||{},c.stackSubs=r,c.subsText=o;for(u in e)r[u]||(r[u]=e[u]);for(u in r)c.subs[u]=r[u];i=i||{},c.stackPartials=i;for(u in n)i[u]||(i[u]=n[u]);for(u in i)c.partials[u]=i[u];return c}function r(t){return String(null===t||void 0===t?"":t)}function i(t){return t=r(t),f.test(t)?t.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(u,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:i,t:r,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var r=this.partials[t],i=e[r.name];if(r.instance&&r.base==i)return r.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[t].base=i,r.subs){e.stackText||(e.stackText={});for(key in r.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);i=n(i,r.subs,r.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=i,i},rp:function(t,e,n,r){var i=this.ep(t,n);return i?i.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(!h(r))return void n(t,e,this);for(var i=0;i<r.length;i++)t.push(r[i]),n(t,e,this),t.pop()},s:function(t,e,n,r,i,o,s){var a;return(!h(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,i,o,s)),a=!!t,!r&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,n,r,i){var o,s=t.split("."),a=this.f(s[0],n,r,i),u=this.options.modelGet,c=null;if("."===t&&h(n[n.length-2]))a=n[n.length-1];else for(var f=1;f<s.length;f++)o=e(s[f],a,u),void 0!==o?(c=a,a=o):a="";return!(i&&!a)&&(i||"function"!=typeof a||(n.push(c),a=this.mv(a,n,r),n.pop()),a)},f:function(t,n,r,i){for(var o=!1,s=null,a=!1,u=this.options.modelGet,c=n.length-1;c>=0;c--)if(s=n[c],o=e(t,s,u),void 0!==o){a=!0;break}return a?(i||"function"!=typeof o||(o=this.mv(o,n,r)),o):!i&&""},ls:function(t,e,n,i,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(r(t.call(e,i)),e,n)),this.options.delimiters=s,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,r,i,o,s){var a,u=e[e.length-1],c=t.call(u);return"function"==typeof c?!!r||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,u,n,a.substring(i,o),s)):c},mv:function(t,e,n){var i=e[e.length-1],o=t.call(i);return"function"==typeof o?this.ct(r(o.call(i)),i,n):o},sub:function(t,e,n,r){var i=this.subs[t];i&&(this.activeSub=t,i(e,n,this,r),this.activeSub=!1)}};var o=/&/g,s=/</g,a=/>/g,u=/\'/g,c=/\"/g,f=/[&<>\"\']/,h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e,n){(function(e){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},r=e.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},i=n()):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(e,n(38))},function(t,e,n){/**
	 * postmate - A powerful, simple, promise-based postMessage library
	 * @version v1.0.2
	 * @link https://github.com/dollarshaveclub/postmate
	 * @author Jacob Kelley <jakie8@gmail.com>
	 * @license MIT */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(){var t;f.debug&&(t=console).log.apply(t,arguments)}function e(t){var e=document.createElement("a");return e.href=t,e.origin}function n(t,e){return t.origin===e&&"object"===i(t.data)&&"postmate"in t.data&&t.data.type===a}function r(t,e){var n="function"==typeof t[e]?t[e]():t[e];return f.Promise.resolve(n)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a="application/x-postmate-v1+json",u=function(){function e(n){var r=this;o(this,e),this.parent=n.parent,this.frame=n.frame,this.child=n.child,this.childOrigin=n.childOrigin,this.events={},t("Parent: Registering API"),t("Parent: Awaiting messages..."),this.listener=function(e){var n=((e||{}).data||{}).value||{},i=n.data,o=n.name;"emit"===e.data.postmate&&(t("Parent: Received event emission: "+o),o in r.events&&r.events[o].call(r,i))},this.parent.addEventListener("message",this.listener,!1),t("Parent: Awaiting event emissions from Child")}return s(e,[{key:"get",value:function(t){var e=this;return new f.Promise(function(n){var r=(new Date).getTime(),i=function o(t){t.data.uid===r&&"reply"===t.data.postmate&&(e.parent.removeEventListener("message",o,!1),n(t.data.value))};parent.addEventListener("message",i,!1),e.child.postMessage({postmate:"request",type:a,property:t,uid:r},e.childOrigin)})}},{key:"on",value:function(t,e){this.events[t]=e}},{key:"destroy",value:function(){t("Parent: Destroying Postmate instance"),window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}]),e}(),c=function(){function e(i){var s=this;o(this,e),this.model=i.model,this.parent=i.parent,this.parentOrigin=i.parentOrigin,this.child=i.child,t("Child: Registering API"),t("Child: Awaiting messages..."),this.child.addEventListener("message",function(e){if(n(e,s.parentOrigin)){t("Child: Received request",e.data);var i=e.data,o=i.property,u=i.uid;r(s.model,o).then(function(t){return e.source.postMessage({property:o,postmate:"reply",type:a,uid:u,value:t},e.origin)})}})}return s(e,[{key:"emit",value:function(e,n){t('Child: Emitting Event "'+e+'"',n),this.parent.postMessage({postmate:"emit",type:a,value:{name:e,data:n}},this.parentOrigin)}}]),e}(),f=function(){function r(t){o(this,r);var e=t.container,n=t.url,i=t.model;return this.parent=window,this.frame=document.createElement("iframe"),(e||document.body).appendChild(this.frame),this.child=this.frame.contentWindow,this.model=i||{},this.sendHandshake(n)}return s(r,[{key:"sendHandshake",value:function(i){var o=this,s=e(i);return new r.Promise(function(e,r){var c=function f(i){return!!n(i,s)&&("handshake-reply"===i.data.postmate?(t("Parent: Received handshake reply from Child"),o.parent.removeEventListener("message",f,!1),o.childOrigin=i.origin,t("Parent: Saving Child origin",o.childOrigin),e(new u(o))):(t("Parent: Invalid handshake reply"),r("Failed handshake")))};o.parent.addEventListener("message",c,!1),o.frame.onload=function(){t("Parent: Sending handshake"),o.child.postMessage({postmate:"handshake",type:a,model:o.model},s)},t("Parent: Loading frame"),o.frame.src=i})}}]),r}();return f.debug=!1,f.Promise=window.Promise,f.Model=function(){function e(t){return o(this,e),this.child=window,this.model=t,this.parent=this.child.parent,this.sendHandshakeReply()}return s(e,[{key:"sendHandshakeReply",value:function(){var e=this;return new f.Promise(function(n,r){var i=function o(i){if("handshake"===i.data.postmate){t("Child: Received handshake from Parent"),e.child.removeEventListener("message",o,!1),t("Child: Sending handshake reply to Parent"),i.source.postMessage({postmate:"handshake-reply",type:a},i.origin),e.parentOrigin=i.origin;var s=i.data.model;if(s){for(var u=Object.keys(s),f=0;f<u.length;f++)s.hasOwnProperty(u[f])&&(e.model[u[f]]=s[u[f]]);t("Child: Inherited and extended model from Parent")}return t("Child: Saving Parent origin",e.parentOrigin),n(new c(e))}return r("Handshake Reply Failed")};e.child.addEventListener("message",i,!1)})}}]),e}(),f})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):y=-1,d.length&&a())}function a(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var f,h,l=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],v=!1,y=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){(function(e){for(var r=n(36),i="undefined"==typeof window?e:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],u=i["cancel"+s]||i["cancelRequest"+s],c=0;!a&&c<o.length;c++)a=i[o[c]+"Request"+s],u=i[o[c]+"Cancel"+s]||i[o[c]+"CancelRequest"+s];if(!a||!u){var f=0,h=0,l=[],p=1e3/60;a=function(t){if(0===l.length){var e=r(),n=Math.max(0,p-(e-f));f=n+e,setTimeout(function(){var t=l.slice(0);l.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(f)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return l.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<l.length;e++)l[e].handle===t&&(l[e].cancelled=!0)}}t.exports=function(t){return a.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(){i.requestAnimationFrame=a,i.cancelAnimationFrame=u}}).call(e,function(){return this}())},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:s}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],s=i[1],a=i[2],u=i[3],c={css:s,media:a,sourceMap:u};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=y(),r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var n,r,i;if(e.singleton){var o=m++;n=_||(_=a(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=l.bind(null,n),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=h.bind(null,n),i=function(){s(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function l(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=d(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,m=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=p[a.id];u.refs--,o.push(u)}if(t){var c=i(t);r(c,e)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var f=0;f<u.parts.length;f++)u.parts[f]();delete p[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(18);"string"==typeof r&&(r=[[t.id,r,""]]);n(40)(r,{});r.locals&&(t.exports=r.locals)},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(h.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function l(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function p(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype["delete"]=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},c.call(h.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];d.redirect=function(t,e){if(_.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=h,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=h.prototype.isPrototypeOf(t)&&!e?t:new h(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:p(s),url:i()},e="response"in s?s.response:s.responseText;n(new d(e,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&v.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}]);